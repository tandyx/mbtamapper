<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=0.9, maximum-scale=1.0, user-scalable=no"
    />
    <meta
      http-equiv="Content-Security-Policy"
      content="upgrade-insecure-requests"
    />
    <meta
      name="keywords"
      content="johan cho, northeastern, mbtamapper, mbta mapper, mbta map, mbta map realtime, realtime, massachusetts, commuter rail"
    />
    <meta name="author" content="Johan Cho" />
    <link rel="canonical" href="https://mbtamapper.com" />

    <meta name="description" content="realtime mapping of the mbta" />
    <link
      rel="icon"
      href="{{ url_for('static', filename='img/all_routes.ico') }}"
      type="image/x-icon"
    />
    <link
      rel="shortcut icon"
      href="{{ url_for('static', filename='img/all_routes.ico') }}"
      type="image/x-icon"
    />
    <title>404 | mbtamapper</title>

    <meta property="og:url" content="https://mbtamapper.com" />
    <meta
      property="og:image"
      content="{{ url_for('static', filename='img/mbta.png') }}"
    />
    <meta property="og:description" content="realtime mapping of the mbta" />
    <meta property="og:title" content="mbtamapper" />
    <!-- <meta property="og:site_name" content="mbtamapper" /> -->
    <meta property="og:see_also" content="https://mbtamapper.com" />

    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/index.css') }}"
    />

    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/leaflet_custom.css') }}"
    />

    <!-- leaflet -->

    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='node_modules/leaflet/dist/leaflet.css') }}"
    />
    <script src="{{ url_for('static', filename='node_modules/leaflet/dist/leaflet.js') }}"></script>

    <script src="{{ url_for('static', filename='node_modules/leaflet-providers/leaflet-providers.js') }}"></script>

    <script src="{{ url_for('static', filename='node_modules/leaflet-realtime/dist/leaflet-realtime.min.js') }}"></script>
    <!-- other js -->
    <script src="{{ url_for('static', filename='node_modules/strftime/strftime-min.js') }}"></script>

    <!-- custom js -->
    <script src="{{ url_for('static', filename='js/realtime/base.js') }}"></script>
    <script src="{{ url_for('static', filename='js/realtime/shapes.js') }}"></script>

    <script src="{{ url_for('static', filename='js/utils.js') }}"></script>
  </head>
  <body>
    <div id="map"></div>
    <script src="{{ url_for('static', filename='js/index.js') }}"></script>
    <script async defer>
      /**
       * @import { Theme } from "./js/utils.js"
       */
      window.addEventListener("load", () => {
        /** @type {RouteKeys} */
        const routeKeys = JSON.parse(`{{ key_dict | tojson }}`);
        /**@type {([keyof RouteKeys, RouteKey])[]} */
        const keys = Object.entries(routeKeys)
          .sort((a, b) => a[1].sort_order - b[1].sort_order)
          .filter(([key, obj]) => key !== "all_routes");
        const map = createHomepageMap(
          "map",
          routeKeys,
          /* HTML */ `
            <div class="titlepage leaflet-text-control">
              <h1 style="font-size: 21pt;margin-bottom:5px">
                <span class="severe-delay">404</span> - Page Not Found
              </h1>
              <div class="my-5">{{ url }} doesn't exist.</div>
              <div style="width: 100%; text-align: center;">
                <hr />
              </div>
              <div class="my-5">
                <div>
                  The page you are looking for might have been removed, had its
                  name changed, or is temporarily unavailable.
                </div>
                <div class="my-5">
                  <a href="{{ possible_url }}" class="anchor-accent"
                    >Possible Link</a
                  >
                </div>
                <div><a href="/" class="anchor-accent">Home</a></div>
              </div>
              <div class="footer" style="margin-top: 0px">
                <div class="fa link-wrapper">
                  <a
                    href="/"
                    class="tooltip"
                    data-tooltip="Home"
                    style="margin-right: 5px"
                    >&#xf015;</a
                  >
                  <a id="modeToggle" class="tooltip" style="margin-right: 5px">
                    &#xf2bd;
                  </a>
                  <a
                    href="https://github.com/johan-cho/mbtamapper"
                    target="_blank"
                    rel="noopener"
                    class="tooltip"
                    data-tooltip="Github"
                    style="margin-right: 5px"
                    >&#xf09b;</a
                  >
                  <a
                    href="https://tandy.xyz/"
                    target="_blank"
                    rel="noopener"
                    class="tooltip"
                    data-tooltip="About Me"
                  >
                    <img
                      src="/static/img/riolu_light_1mb.png"
                      loading="lazy"
                      class="inline-img"
                    />
                  </a>
                </div>
              </div>
            </div>
          `
        );
      });
    </script>
    <script>
      window.addEventListener("load", () => {
        const toggle = document.getElementById("modeToggle");
        if (!toggle) return;
        /**
         * updates toggle
         * @param {Theme} theme
         */
        const updateToggle = (theme) => {
          toggle.innerHTML = theme.unicodeIcon;
          toggle.dataset.tooltip = `Change to ${
            Theme.activeTheme == "dark" ? "Light" : "Dark"
          }`;
        };
        updateToggle(Theme.fromExisting().set(sessionStorage, onThemeChange));
        toggle.addEventListener("click", () => {
          updateToggle(
            Theme.fromExisting().reverse(sessionStorage, onThemeChange)
          );
        });
      });
    </script>

    <noscript>This page requires Javascript to be enabled.</noscript>
  </body>
</html>
